import"./Bzak7iHL.js";import{p as mt,f as u,a as l,b as dt,s as S,c as s,j as o,d as N,r as n,t as _,i as A,n as ut,g as R,h as ft,q as ct,v as _t}from"./QZqinZsw.js";import{s as y}from"./zj6rKiBI.js";import{i as g}from"./CBp_iadw.js";import{e as pt,i as bt}from"./_c7s_I5-.js";import{a as xt,e as gt}from"./B7hShSLK.js";import{s as k,r as ht,a as wt}from"./DdviliVL.js";import{s as E}from"./DNnZok11.js";import{p as h}from"./D9ul2WeV.js";import{s as yt,a as Tt}from"./D8TCchut.js";import{p as kt}from"./CBOsyq4N.js";import{a as St}from"./Cd49LeXO.js";var Bt=u('<div class="text-xl font-bold mb-3 w-48 md:pr-8 flex-none"> </div>'),Lt=ct('<svg xmlns="http://www.w3.org/2000/svg" class="stroke-current shrink-0 h-6 w-6" fill="none" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg>'),Mt=u("<div><!> <span> </span></div>"),jt=u('<label><span class="text-sm text-gray-500"> </span></label>'),Vt=u("<input/>"),qt=u('<div class="text-lg mb-3"> </div>'),zt=u("<!> <!>",1),At=u('<p class="text-red-700 text-sm font-bold mt-1"> </p>'),Et=u('<span class="loading loading-spinner loading-md align-middle mx-3"></span>'),Ot=u('<div><button type="submit"><!></button></div>'),Pt=u('<a class="mt-1"><button> </button></a>'),Rt=u('<!> <form class="form-widget flex flex-col" method="POST"><!> <!> <!></form>',1),Ct=u('<div><div class="text-l font-bold"> </div> <div class="text-base"> </div></div> <a href="/account/settings"><button class="btn btn-outline btn-sm mt-3 min-w-[145px]">Return to Settings</button></a>',1),Dt=u('<div class="card p-6 pb-7 mt-8 max-w-xl flex flex-col md:flex-row shadow-sm"><!> <div class="w-full min-w-48"><!></div></div>');function Ft(Q,f){mt(f,!0);const L=()=>Tt(kt,"$page",U),[U,W]=yt(),X=(i,m)=>((i==null?void 0:i.errorFields)??[]).includes(m);let V=N(!1),C=N(!1),O=h(f,"editable",3,!1),q=h(f,"dangerous",3,!1),D=h(f,"title",3,""),G=h(f,"message",3,""),Y=h(f,"formTarget",3,""),Z=h(f,"successTitle",3,"Success"),F=h(f,"successBody",3,""),H=h(f,"editButtonTitle",3,null),I=h(f,"editLink",3,null),$=h(f,"saveButtonTitle",3,"Save");const tt=()=>(R(V,!0),async({update:i,result:m})=>{await i({reset:!1}),await St(m),R(V,!1),m.type==="success"&&R(C,!0)});var P=Dt(),J=s(P);{var at=i=>{var m=Bt(),T=s(m,!0);n(m),_(()=>y(T,D())),l(i,m)};g(J,i=>{D()&&i(at)})}var K=S(J,2),et=s(K);{var rt=i=>{var m=Rt(),T=A(m);{var M=r=>{var t=Mt(),a=s(t);{var c=v=>{var b=Lt();l(v,b)};g(a,v=>{q()&&v(c)})}var d=S(a,2),p=s(d,!0);n(d),n(t),_(()=>{E(t,1,`mb-6 ${q()?"alert alert-warning":""}`),y(p,G())}),l(r,t)};g(T,r=>{G()&&r(M)})}var B=S(T,2),j=s(B);pt(j,17,()=>f.fields,bt,(r,t)=>{var a=zt(),c=A(a);{var d=x=>{var e=jt(),w=s(e),lt=s(w,!0);n(w),n(e),_(()=>{k(e,"for",o(t).id),y(lt,o(t).label)}),l(x,e)};g(c,x=>{o(t).label&&x(d)})}var p=S(c,2);{var v=x=>{var e=Vt();ht(e),_(w=>{k(e,"id",o(t).id),k(e,"name",o(t).id),k(e,"type",o(t).inputType??"text"),e.disabled=!O(),k(e,"placeholder",o(t).placeholder??o(t).label??""),E(e,1,`${w??""} input-sm mt-1 input input-bordered w-full max-w-xs mb-3 text-base py-4`),wt(e,L().form?L().form[o(t).id]:o(t).initialValue),k(e,"maxlength",o(t).maxlength?o(t).maxlength:null)},[()=>{var w;return X((w=L())==null?void 0:w.form,o(t).id)?"input-error":""}]),l(x,e)},b=x=>{var e=qt(),w=s(e,!0);n(e),_(()=>y(w,o(t).initialValue)),l(x,e)};g(p,x=>{O()?x(v):x(b,!1)})}l(r,a)});var z=S(j,2);{var ot=r=>{var t=At(),a=s(t,!0);n(t),_(()=>{var c,d;return y(a,(d=(c=L())==null?void 0:c.form)==null?void 0:d.errorMessage)}),l(r,t)};g(z,r=>{var t,a;(a=(t=L())==null?void 0:t.form)!=null&&a.errorMessage&&r(ot)})}var nt=S(z,2);{var it=r=>{var t=Ot(),a=s(t),c=s(a);{var d=v=>{var b=Et();l(v,b)},p=v=>{var b=_t();_(()=>y(b,$())),l(v,b)};g(c,v=>{o(V)?v(d):v(p,!1)})}n(a),n(t),_(()=>{E(a,1,`ml-auto btn btn-sm mt-3 min-w-[145px] ${q()?"btn-error":"btn-primary btn-outline"}`),a.disabled=o(V)}),l(r,t)},vt=r=>{var t=ft(),a=A(t);{var c=d=>{var p=Pt(),v=s(p),b=s(v,!0);n(v),n(p),_(()=>{k(p,"href",I()),E(v,1,`btn btn-outline btn-sm ${q()?"btn-error":""} min-w-[145px]`),y(b,H())}),l(d,p)};g(a,d=>{H()&&I()&&d(c)},!0)}l(r,t)};g(nt,r=>{O()?r(it):r(vt,!1)})}n(B),xt(B,(r,t)=>{var a;return(a=gt)==null?void 0:a(r,t)},()=>tt),_(()=>k(B,"action",Y())),l(i,m)},st=i=>{var m=Ct(),T=A(m),M=s(T),B=s(M,!0);n(M);var j=S(M,2),z=s(j,!0);n(j),n(T),ut(2),_(()=>{y(B,Z()),y(z,F())}),l(i,m)};g(et,i=>{o(C)?i(st,!1):i(rt)})}n(K),n(P),l(Q,P),dt(),W()}export{Ft as S};
