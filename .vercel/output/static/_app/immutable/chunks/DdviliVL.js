import{Z as H,a2 as p,a1 as Y,w as B,A as g,R as z,a$ as F,b0 as J,_ as Q,b1 as W,b2 as X,b3 as m,b4 as x,j as rr,b5 as ar,b6 as ir,a6 as U,b7 as sr,ab as er,b8 as tr,b9 as fr}from"./QZqinZsw.js";import{i as ur,c as or,d as cr,n as lr,b as nr}from"./zj6rKiBI.js";import{t as _r,c as dr,s as vr}from"./DNnZok11.js";function br(r,i){var a=void 0,s;H(()=>{a!==(a=i())&&(s&&(p(s),s=null),a&&(s=Y(()=>{B(()=>a(r))})))})}function O(r,i={},a,s){for(var e in a){var _=a[e];i[e]!==_&&(a[e]==null?r.style.removeProperty(e):r.style.setProperty(e,_,s))}}function hr(r,i,a,s){var e=r.__style;if(g||e!==i){var _=_r(i,s);(!g||_!==r.getAttribute("style"))&&(_==null?r.removeAttribute("style"):r.style.cssText=_),r.__style=i}else s&&(Array.isArray(s)?(O(r,a==null?void 0:a[0],s[0]),O(r,a==null?void 0:a[1],s[1],"important")):O(r,a,s));return s}function C(r,i,a=!1){if(r.multiple){if(i==null)return;if(!z(i))return F();for(var s of r.options)s.selected=i.includes(V(s));return}for(s of r.options){var e=V(s);if(J(e,i)){s.selected=!0;return}}(!a||i!==void 0)&&(r.selectedIndex=-1)}function Ar(r){var i=new MutationObserver(()=>{C(r,r.__value)});i.observe(r,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),Q(()=>{i.disconnect()})}function V(r){return"__value"in r?r.__value:r.value}const T=Symbol("class"),E=Symbol("style"),D=Symbol("is custom element"),G=Symbol("is html");function gr(r){if(g){var i=!1,a=()=>{if(!i){if(i=!0,r.hasAttribute("value")){var s=r.value;I(r,"value",null),r.value=s}if(r.hasAttribute("checked")){var e=r.checked;I(r,"checked",null),r.checked=e}}};r.__on_r=a,tr(a),fr()}}function wr(r,i){var a=M(r);a.value===(a.value=i??void 0)||r.value===i&&(i!==0||r.nodeName!=="PROGRESS")||(r.value=i??"")}function yr(r,i){i?r.hasAttribute("selected")||r.setAttribute("selected",""):r.removeAttribute("selected")}function I(r,i,a,s){var e=M(r);g&&(e[i]=r.getAttribute(i),i==="src"||i==="srcset"||i==="href"&&r.nodeName==="LINK")||e[i]!==(e[i]=a)&&(i==="loading"&&(r[X]=a),a==null?r.removeAttribute(i):typeof a!="string"&&K(r).includes(i)?r[i]=a:r.setAttribute(i,a))}function Sr(r,i,a,s,e=!1,_=!1){if(g&&e&&r.tagName==="INPUT"){var h=r,k=h.type==="checkbox"?"defaultChecked":"defaultValue";k in a||gr(h)}var d=M(r),v=d[D],w=!d[G];let y=g&&v;y&&U(!1);var u=i||{},b=r.tagName==="OPTION";for(var S in i)S in a||(a[S]=null);a.class?a.class=dr(a.class):(s||a[T])&&(a.class=null),a[E]&&(a.style??(a.style=null));var N=K(r);for(const t in a){let f=a[t];if(b&&t==="value"&&f==null){r.value=r.__value="",u[t]=f;continue}if(t==="class"){var n=r.namespaceURI==="http://www.w3.org/1999/xhtml";vr(r,n,f,s,i==null?void 0:i[T],a[T]),u[t]=f,u[T]=a[T];continue}if(t==="style"){hr(r,f,i==null?void 0:i[E],a[E]),u[t]=f,u[E]=a[E];continue}var P=u[t];if(!(f===P&&!(f===void 0&&r.hasAttribute(t)))){u[t]=f;var $=t[0]+t[1];if($!=="$$")if($==="on"){const l={},A="$$"+t;let o=t.slice(2);var L=nr(o);if(ur(o)&&(o=o.slice(0,-7),l.capture=!0),!L&&P){if(f!=null)continue;r.removeEventListener(o,u[A],l),u[A]=null}if(f!=null)if(L)r[`__${o}`]=f,cr([o]);else{let Z=function(q){u[t].call(this,q)};u[A]=or(o,r,Z,l)}else L&&(r[`__${o}`]=void 0)}else if(t==="style")I(r,t,f);else if(t==="autofocus")sr(r,!!f);else if(!v&&(t==="__value"||t==="value"&&f!=null))r.value=r.__value=f;else if(t==="selected"&&b)yr(r,f);else{var c=t;w||(c=lr(c));var R=c==="defaultValue"||c==="defaultChecked";if(f==null&&!v&&!R)if(d[t]=null,c==="value"||c==="checked"){let l=r;const A=i===void 0;if(c==="value"){let o=l.defaultValue;l.removeAttribute(c),l.defaultValue=o,l.value=l.__value=A?o:null}else{let o=l.defaultChecked;l.removeAttribute(c),l.defaultChecked=o,l.checked=A?o:!1}}else r.removeAttribute(t);else R||N.includes(c)&&(v||typeof f!="string")?(r[c]=f,c in d&&(d[c]=er)):typeof f!="function"&&I(r,c,f)}}}return y&&U(!0),u}function Ir(r,i,a=[],s=[],e,_=!1,h=!1){W(a,s,k=>{var d=void 0,v={},w=r.nodeName==="SELECT",y=!1;if(H(()=>{var b=i(...k.map(rr)),S=Sr(r,d,b,e,_,h);y&&w&&"value"in b&&C(r,b.value);for(let n of Object.getOwnPropertySymbols(v))b[n]||p(v[n]);for(let n of Object.getOwnPropertySymbols(b)){var N=b[n];n.description===ar&&(!d||N!==d[n])&&(v[n]&&p(v[n]),v[n]=Y(()=>br(r,()=>N))),S[n]=N}d=S}),w){var u=r;B(()=>{C(u,d.value,!0),Ar(u)})}y=!0})}function M(r){return r.__attributes??(r.__attributes={[D]:r.nodeName.includes("-"),[G]:r.namespaceURI===m})}var j=new Map;function K(r){var i=r.getAttribute("is")||r.nodeName,a=j.get(i);if(a)return a;j.set(i,a=[]);for(var s,e=r,_=Element.prototype;_!==e;){s=ir(e);for(var h in s)s[h].set&&a.push(h);e=x(e)}return a}export{wr as a,Ir as b,hr as c,gr as r,I as s};
